
@{
    ViewBag.Title = "EditTributacaoMassaNCMModal";
}


<div class="container-fluid pr-container pr-card-cad">
    <div class="card mt-2">
        <div class="card-header">
            Alterar tributação por NCM de Produtos em Massa
            <a href='javascript:history.go(-1)' data-toggle="tooltip" data-placement="right" title="Voltar à tabela" type="button" id="voltar" class="float-lg-right dis-block btn btn-secondary pr-botoes-fundo border-0"><i style="font-size:1.5em;" class="fas fa-undo"></i></a>

        </div><!--fim do cabeçalho-->

        <div class="card-body">
            <div class="container-fluid">
                @using (Html.BeginForm("EditTributacaoMassaNCMModal", "Produto", FormMethod.Get, new { @class = "row" }))
                {

                    <div class="form-group col-lg-2 p-2 mb-0">
                        <label class="pr-fontalternativa">NCM BASE</label>
                        <div class="input-group input-group-sm">
                            <!--input-->

                            <input type="text" class="form-control form-control-sm" name="ncm" id="ncm" size=10 maxlength=10 value="@ViewBag.NCM" readonly />

                            <div class="input-group-append">
                                <!--botao-->
                                <button id="salvarNCM" type="submit" class="btn btn-secondary pr-botoes-fundo" data-toggle="tooltip" data-placement="right" title="Salvar NCM em Massa">

                                    <i style="font-size:1.3em;" class="fas fa-save"></i>
                                </button>
                            </div>
                        </div>
                    </div>




                    <div class="form-group col-lg-2 p-2">
                        <label class="pr-fontalternativa">UF Origem</label>

                        <div class="input-group input-group-sm">

                            <select class="form-control form-control-sm dropdown prn-select" id="uf_origem" name="uf_origem">
                                <option value="null">UF de Origem</option>
                                @foreach (var item in ViewBag.EstadosOrigem)
                                {
                                    if (item.uf == ViewBag.UfOrigem)
                                    {
                                        <option selected value="@item.uf">@item.uf</option>
                                    }
                                    else
                                    {
                                        <option value="@item.uf">@item.uf</option>
                                    }

                                }
                            </select>


                        </div><!--fim div input-->

                    </div><!--fim coluna 2-->

                    <div class="form-group col-lg-2 p-2">
                        <label class="pr-fontalternativa">UF Destino</label>

                        <div class="input-group input-group-sm">

                            <select class="form-control form-control-sm dropdown prn-select" id="uf_destino" name="uf_destino">
                                <option value="null">UF de Destino</option>
                                @foreach (var item in ViewBag.EstadosDestinos)
                                {
                                    if (item.uf == ViewBag.UfDestino)
                                    {
                                        <option selected value="@item.uf">@item.uf</option>
                                    }
                                    else
                                    {
                                        <option value="@item.uf">@item.uf</option>
                                    }

                                }
                            </select>


                            <div class="input-group-append">
                                <button data-toggle="tooltip" data-placement="right" title="Aplicar" class="btn btn-secondary pr-botoes-fundo" type="submit" id="button-addonCest">
                                    <i style="font-size:1.3em;" class="fas fa-check-circle"></i>
                                </button>
                            </div><!--fim do appende-->
                        </div><!--fim div input-->
                    </div><!--fim coluna 2-->


                }
            @foreach(var it in ViewBag.TributacaoNCM)
            {

           
                <div class="row">
                    <!--Tabs-->
                    <ul id="ncmTabs" class="nav nav-tabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link active" id="piscofins-tab" data-toggle="tab" href="#piscofins" role="tab" aria-controls="psiconfis" aria-selected="true">Pis/Cofins</a>

                        </li>

                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="contact-tab" data-toggle="tab" href="#vendVarCF" role="tab" aria-controls="vendVarCF" aria-selected="false">Venda Varejo p/ Cons. Final</a>

                        </li>
                    </ul>
                    <div class="tab-content p-1" id="tabConteudo">
                        <div class="tab-pane fade show active" id="piscofins" role="tabpanel" aria-labelledby="home-tab">

                            <div class="col-lg-2 ml-2">
                                <div class="card col-lg-12 ml-4 mt-1">
                                    <div class="card-header text-center pr-fonte">
                                        PIS
                                    </div>
                                    <div class="card-body">
                                        <div class="form-group row col-lg-12 pl-4 mt-1">
                                            <label class="col-form-label col-lg-6 pl-3  pr-fontalternativa" for="reg">CST Entrada:</label>
                                            <div class="col-lg-4">
                                                @*@Html.TextBoxFor(m => m.cstEntradaPisCofins, new { @class = "form-control pr-fonte", @disabled = "disabled" })*@
                                                <input class="form-control pr-fonte" disabled value="@it.cstEntradaPisCofins"/>
                                            </div>

                                        </div>
                                        @*<div class="form-group row col-lg-12 pl-4 mt-1">
                                            <label class="col-form-label col-lg-6 pl-3  pr-fontalternativa" for="reg">Alíq. Entrada:</label>
                                            <div class="col-lg-4">
                                                @Html.TextBoxFor(m => m.aliqEntPis, new { @class = "form-control pr-fonte", @disabled = "disabled" })
                                            </div>

                                        </div>*@
                                        @*<div class="form-group row col-lg-12 pl-4 mt-1">
                                            <label class="col-form-label col-lg-6 pl-3  pr-fontalternativa" for="reg">CST saída:</label>
                                            <div class="col-lg-4">
                                                @Html.TextBoxFor(m => m.cstSaidaPisCofins, new { @class = "form-control pr-fonte", @disabled = "disabled" })
                                            </div>

                                        </div>*@
                                        @*<div class="form-group row col-lg-12 pl-4 mt-1">
                                            <label class="col-form-label col-lg-6 pl-3  pr-fontalternativa" for="reg">Alíq. saída:</label>
                                            <div class="col-lg-4">
                                                @Html.TextBoxFor(m => m.aliqSaidaPis, new { @class = "form-control pr-fonte", @disabled = "disabled" })
                                            </div>

                                        </div>*@
                                    </div>
                                </div>


                            </div>



                        </div>
                    </div>

                </div> <!--fim da row da tab-->
            }





                <!--Campos para serem alterados-->






                <div class="row">

                    <div class="col-lg-12">
                        <div class="container-fluid">

                            <div class="overflow-auto" style="max-width: 100%; max-height: 500px;">

                                <table id="table-editmassa" class="table table-sm table-striped">
                                    <caption>Produtos que receberão o novo NCM : <label id="lab" /> </caption>
                                    <thead style="font-size:12px; color:#ffffff; font-weight:100 !important" class="pr-thead">
                                        <tr>
                                            <th scope="col">ID</th>
                                            <th scope="col">Código de Barras</th>
                                            <th scope="col">Descrição</th>
                                            <th scope="col">Cest</th>
                                            <th scope="col">NCM</th>
                                            <th scope="col">Categoria</th>


                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in ViewBag.TributacaoMTX)
                                        {
                                            <tr class="pr-td sel">
                                                <td style="width:5%">
                                                    @item.ID
                                                </td>
                                                <td style="width:5%">
                                                    @item.COD_BARRAS_PRODUTO
                                                </td>
                                                <td style="width:20%">
                                                    @item.DESCRICAO_PRODUTO
                                                </td>

                                                <td style="width:5%;">
                                                    @item.CEST_PRODUTO
                                                </td>
                                                <td style="width:5%;">
                                                    @item.NCM_PRODUTO
                                                </td>
                                                <td style="width:30%;" class="text-center">
                                                    @item.CATEGORIA_DESCRICAO
                                                </td>


                                            </tr>
                                        }

                                    </tbody>
                                </table>


                            </div>


                        </div><!--Fim do container da coluna-->
                    </div><!--Fim da primeira coluna 12-->

                </div>
            </div><!--fim da linha-->

        </div><!--fim do container do body do card-->

    </div><!--Fim do corpo do card-->

</div><!--fim do card-->
</div><!--fim do container-->
